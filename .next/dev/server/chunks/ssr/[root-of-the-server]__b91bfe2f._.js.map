{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/karanrajkr/Projects/galaxy%20inn/zoop-cafe-3-v2/components/ui/Particles.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef } from 'react';\nimport { Renderer, Camera, Geometry, Program, Mesh } from 'ogl';\n\n\n\ninterface ParticlesProps {\n    particleCount?: number;\n    particleSpread?: number;\n    speed?: number;\n    particleColors?: string[];\n    moveParticlesOnHover?: boolean;\n    particleHoverFactor?: number;\n    alphaParticles?: boolean;\n    particleBaseSize?: number;\n    sizeRandomness?: number;\n    cameraDistance?: number;\n    disableRotation?: boolean;\n    pixelRatio?: number;\n    className?: string;\n}\n\nconst defaultColors: string[] = ['#ffffff', '#ffffff', '#ffffff'];\n\nconst hexToRgb = (hex: string): [number, number, number] => {\n    hex = hex.replace(/^#/, '');\n    if (hex.length === 3) {\n        hex = hex\n            .split('')\n            .map(c => c + c)\n            .join('');\n    }\n    const int = parseInt(hex, 16);\n    const r = ((int >> 16) & 255) / 255;\n    const g = ((int >> 8) & 255) / 255;\n    const b = (int & 255) / 255;\n    return [r, g, b];\n};\n\nconst vertex = /* glsl */ `\n  attribute vec3 position;\n  attribute vec4 random;\n  attribute vec3 color;\n  \n  uniform mat4 modelMatrix;\n  uniform mat4 viewMatrix;\n  uniform mat4 projectionMatrix;\n  uniform float uTime;\n  uniform float uSpread;\n  uniform float uBaseSize;\n  uniform float uSizeRandomness;\n  \n  varying vec4 vRandom;\n  varying vec3 vColor;\n  \n  void main() {\n    vRandom = random;\n    vColor = color;\n    \n    vec3 pos = position * uSpread;\n    pos.z *= 10.0;\n    \n    vec4 mPos = modelMatrix * vec4(pos, 1.0);\n    float t = uTime;\n    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);\n    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);\n    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);\n    \n    vec4 mvPos = viewMatrix * mPos;\n    if (uSizeRandomness == 0.0) {\n      gl_PointSize = uBaseSize;\n    } else {\n      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);\n    }\n    \n    gl_Position = projectionMatrix * mvPos;\n  }\n`;\n\nconst fragment = /* glsl */ `\n  precision highp float;\n  \n  uniform float uTime;\n  uniform float uAlphaParticles;\n  varying vec4 vRandom;\n  varying vec3 vColor;\n  \n  void main() {\n    vec2 uv = gl_PointCoord.xy;\n    float d = length(uv - vec2(0.5));\n    \n    if(uAlphaParticles < 0.5) {\n      if(d > 0.5) {\n        discard;\n      }\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);\n    } else {\n      float circle = smoothstep(0.5, 0.4, d) * 0.8;\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);\n    }\n  }\n`;\n\nconst Particles: React.FC<ParticlesProps> = ({\n    particleCount = 200,\n    particleSpread = 10,\n    speed = 0.1,\n    particleColors,\n    moveParticlesOnHover = false,\n    particleHoverFactor = 1,\n    alphaParticles = false,\n    particleBaseSize = 100,\n    sizeRandomness = 1,\n    cameraDistance = 20,\n    disableRotation = false,\n    pixelRatio = 1,\n    className\n}) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const mouseRef = useRef<{ x: number; y: number }>({ x: 0, y: 0 });\n\n    useEffect(() => {\n        const container = containerRef.current;\n        if (!container) return;\n\n        const renderer = new Renderer({\n            dpr: pixelRatio,\n            depth: false,\n            alpha: true\n        });\n        const gl = renderer.gl;\n        container.appendChild(gl.canvas);\n        gl.clearColor(0, 0, 0, 0);\n\n        const camera = new Camera(gl, { fov: 15 });\n        camera.position.set(0, 0, cameraDistance);\n\n        const resize = () => {\n            const width = container.clientWidth;\n            const height = container.clientHeight;\n            renderer.setSize(width, height);\n            camera.perspective({ aspect: gl.canvas.width / gl.canvas.height });\n        };\n        window.addEventListener('resize', resize, false);\n        resize();\n\n        const handleMouseMove = (e: MouseEvent) => {\n            const rect = container.getBoundingClientRect();\n            const x = ((e.clientX - rect.left) / rect.width) * 2 - 1;\n            const y = -(((e.clientY - rect.top) / rect.height) * 2 - 1);\n            mouseRef.current = { x, y };\n        };\n\n        if (moveParticlesOnHover) {\n            container.addEventListener('mousemove', handleMouseMove);\n        }\n\n        const count = particleCount;\n        const positions = new Float32Array(count * 3);\n        const randoms = new Float32Array(count * 4);\n        const colors = new Float32Array(count * 3);\n        const palette = particleColors && particleColors.length > 0 ? particleColors : defaultColors;\n\n        for (let i = 0; i < count; i++) {\n            let x: number, y: number, z: number, len: number;\n            do {\n                x = Math.random() * 2 - 1;\n                y = Math.random() * 2 - 1;\n                z = Math.random() * 2 - 1;\n                len = x * x + y * y + z * z;\n            } while (len > 1 || len === 0);\n            const r = Math.cbrt(Math.random());\n            positions.set([x * r, y * r, z * r], i * 3);\n            randoms.set([Math.random(), Math.random(), Math.random(), Math.random()], i * 4);\n            const col = hexToRgb(palette[Math.floor(Math.random() * palette.length)]);\n            colors.set(col, i * 3);\n        }\n\n        const geometry = new Geometry(gl, {\n            position: { size: 3, data: positions },\n            random: { size: 4, data: randoms },\n            color: { size: 3, data: colors }\n        });\n\n        const program = new Program(gl, {\n            vertex,\n            fragment,\n            uniforms: {\n                uTime: { value: 0 },\n                uSpread: { value: particleSpread },\n                uBaseSize: { value: particleBaseSize * pixelRatio },\n                uSizeRandomness: { value: sizeRandomness },\n                uAlphaParticles: { value: alphaParticles ? 1 : 0 }\n            },\n            transparent: true,\n            depthTest: false\n        });\n\n        const particles = new Mesh(gl, { mode: gl.POINTS, geometry, program });\n\n        let animationFrameId: number;\n        let lastTime = performance.now();\n        let elapsed = 0;\n\n        const update = (t: number) => {\n            animationFrameId = requestAnimationFrame(update);\n            const delta = t - lastTime;\n            lastTime = t;\n            elapsed += delta * speed;\n\n            program.uniforms.uTime.value = elapsed * 0.001;\n\n            if (moveParticlesOnHover) {\n                particles.position.x = -mouseRef.current.x * particleHoverFactor;\n                particles.position.y = -mouseRef.current.y * particleHoverFactor;\n            } else {\n                particles.position.x = 0;\n                particles.position.y = 0;\n            }\n\n            if (!disableRotation) {\n                particles.rotation.x = Math.sin(elapsed * 0.0002) * 0.1;\n                particles.rotation.y = Math.cos(elapsed * 0.0005) * 0.15;\n                particles.rotation.z += 0.01 * speed;\n            }\n\n            renderer.render({ scene: particles, camera });\n        };\n\n        animationFrameId = requestAnimationFrame(update);\n\n        return () => {\n            window.removeEventListener('resize', resize);\n            if (moveParticlesOnHover) {\n                container.removeEventListener('mousemove', handleMouseMove);\n            }\n            cancelAnimationFrame(animationFrameId);\n            if (container.contains(gl.canvas)) {\n                container.removeChild(gl.canvas);\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        particleCount,\n        particleSpread,\n        speed,\n        moveParticlesOnHover,\n        particleHoverFactor,\n        alphaParticles,\n        particleBaseSize,\n        sizeRandomness,\n        cameraDistance,\n        disableRotation,\n        pixelRatio\n    ]);\n\n    return <div ref={containerRef} className={`particles-container ${className}`} />;\n};\n\nexport default Particles;\n"],"names":[],"mappings":"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"}}]
}
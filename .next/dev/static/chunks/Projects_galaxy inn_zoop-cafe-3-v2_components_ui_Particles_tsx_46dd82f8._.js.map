{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karanrajkr/Projects/galaxy%20inn/zoop-cafe-3-v2/components/ui/Particles.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef } from 'react';\nimport { Renderer, Camera, Geometry, Program, Mesh } from 'ogl';\n\n\n\ninterface ParticlesProps {\n    particleCount?: number;\n    particleSpread?: number;\n    speed?: number;\n    particleColors?: string[];\n    moveParticlesOnHover?: boolean;\n    particleHoverFactor?: number;\n    alphaParticles?: boolean;\n    particleBaseSize?: number;\n    sizeRandomness?: number;\n    cameraDistance?: number;\n    disableRotation?: boolean;\n    pixelRatio?: number;\n    className?: string;\n}\n\nconst defaultColors: string[] = ['#ffffff', '#ffffff', '#ffffff'];\n\nconst hexToRgb = (hex: string): [number, number, number] => {\n    hex = hex.replace(/^#/, '');\n    if (hex.length === 3) {\n        hex = hex\n            .split('')\n            .map(c => c + c)\n            .join('');\n    }\n    const int = parseInt(hex, 16);\n    const r = ((int >> 16) & 255) / 255;\n    const g = ((int >> 8) & 255) / 255;\n    const b = (int & 255) / 255;\n    return [r, g, b];\n};\n\nconst vertex = /* glsl */ `\n  attribute vec3 position;\n  attribute vec4 random;\n  attribute vec3 color;\n  \n  uniform mat4 modelMatrix;\n  uniform mat4 viewMatrix;\n  uniform mat4 projectionMatrix;\n  uniform float uTime;\n  uniform float uSpread;\n  uniform float uBaseSize;\n  uniform float uSizeRandomness;\n  \n  varying vec4 vRandom;\n  varying vec3 vColor;\n  \n  void main() {\n    vRandom = random;\n    vColor = color;\n    \n    vec3 pos = position * uSpread;\n    pos.z *= 10.0;\n    \n    vec4 mPos = modelMatrix * vec4(pos, 1.0);\n    float t = uTime;\n    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);\n    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);\n    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);\n    \n    vec4 mvPos = viewMatrix * mPos;\n    if (uSizeRandomness == 0.0) {\n      gl_PointSize = uBaseSize;\n    } else {\n      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);\n    }\n    \n    gl_Position = projectionMatrix * mvPos;\n  }\n`;\n\nconst fragment = /* glsl */ `\n  precision highp float;\n  \n  uniform float uTime;\n  uniform float uAlphaParticles;\n  varying vec4 vRandom;\n  varying vec3 vColor;\n  \n  void main() {\n    vec2 uv = gl_PointCoord.xy;\n    float d = length(uv - vec2(0.5));\n    \n    if(uAlphaParticles < 0.5) {\n      if(d > 0.5) {\n        discard;\n      }\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);\n    } else {\n      float circle = smoothstep(0.5, 0.4, d) * 0.8;\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);\n    }\n  }\n`;\n\nconst Particles: React.FC<ParticlesProps> = ({\n    particleCount = 200,\n    particleSpread = 10,\n    speed = 0.1,\n    particleColors,\n    moveParticlesOnHover = false,\n    particleHoverFactor = 1,\n    alphaParticles = false,\n    particleBaseSize = 100,\n    sizeRandomness = 1,\n    cameraDistance = 20,\n    disableRotation = false,\n    pixelRatio = 1,\n    className\n}) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const mouseRef = useRef<{ x: number; y: number }>({ x: 0, y: 0 });\n\n    useEffect(() => {\n        const container = containerRef.current;\n        if (!container) return;\n\n        const renderer = new Renderer({\n            dpr: pixelRatio,\n            depth: false,\n            alpha: true\n        });\n        const gl = renderer.gl;\n        container.appendChild(gl.canvas);\n        gl.clearColor(0, 0, 0, 0);\n\n        const camera = new Camera(gl, { fov: 15 });\n        camera.position.set(0, 0, cameraDistance);\n\n        const resize = () => {\n            const width = container.clientWidth;\n            const height = container.clientHeight;\n            renderer.setSize(width, height);\n            camera.perspective({ aspect: gl.canvas.width / gl.canvas.height });\n        };\n        window.addEventListener('resize', resize, false);\n        resize();\n\n        const handleMouseMove = (e: MouseEvent) => {\n            const rect = container.getBoundingClientRect();\n            const x = ((e.clientX - rect.left) / rect.width) * 2 - 1;\n            const y = -(((e.clientY - rect.top) / rect.height) * 2 - 1);\n            mouseRef.current = { x, y };\n        };\n\n        if (moveParticlesOnHover) {\n            container.addEventListener('mousemove', handleMouseMove);\n        }\n\n        const count = particleCount;\n        const positions = new Float32Array(count * 3);\n        const randoms = new Float32Array(count * 4);\n        const colors = new Float32Array(count * 3);\n        const palette = particleColors && particleColors.length > 0 ? particleColors : defaultColors;\n\n        for (let i = 0; i < count; i++) {\n            let x: number, y: number, z: number, len: number;\n            do {\n                x = Math.random() * 2 - 1;\n                y = Math.random() * 2 - 1;\n                z = Math.random() * 2 - 1;\n                len = x * x + y * y + z * z;\n            } while (len > 1 || len === 0);\n            const r = Math.cbrt(Math.random());\n            positions.set([x * r, y * r, z * r], i * 3);\n            randoms.set([Math.random(), Math.random(), Math.random(), Math.random()], i * 4);\n            const col = hexToRgb(palette[Math.floor(Math.random() * palette.length)]);\n            colors.set(col, i * 3);\n        }\n\n        const geometry = new Geometry(gl, {\n            position: { size: 3, data: positions },\n            random: { size: 4, data: randoms },\n            color: { size: 3, data: colors }\n        });\n\n        const program = new Program(gl, {\n            vertex,\n            fragment,\n            uniforms: {\n                uTime: { value: 0 },\n                uSpread: { value: particleSpread },\n                uBaseSize: { value: particleBaseSize * pixelRatio },\n                uSizeRandomness: { value: sizeRandomness },\n                uAlphaParticles: { value: alphaParticles ? 1 : 0 }\n            },\n            transparent: true,\n            depthTest: false\n        });\n\n        const particles = new Mesh(gl, { mode: gl.POINTS, geometry, program });\n\n        let animationFrameId: number;\n        let lastTime = performance.now();\n        let elapsed = 0;\n\n        const update = (t: number) => {\n            animationFrameId = requestAnimationFrame(update);\n            const delta = t - lastTime;\n            lastTime = t;\n            elapsed += delta * speed;\n\n            program.uniforms.uTime.value = elapsed * 0.001;\n\n            if (moveParticlesOnHover) {\n                particles.position.x = -mouseRef.current.x * particleHoverFactor;\n                particles.position.y = -mouseRef.current.y * particleHoverFactor;\n            } else {\n                particles.position.x = 0;\n                particles.position.y = 0;\n            }\n\n            if (!disableRotation) {\n                particles.rotation.x = Math.sin(elapsed * 0.0002) * 0.1;\n                particles.rotation.y = Math.cos(elapsed * 0.0005) * 0.15;\n                particles.rotation.z += 0.01 * speed;\n            }\n\n            renderer.render({ scene: particles, camera });\n        };\n\n        animationFrameId = requestAnimationFrame(update);\n\n        return () => {\n            window.removeEventListener('resize', resize);\n            if (moveParticlesOnHover) {\n                container.removeEventListener('mousemove', handleMouseMove);\n            }\n            cancelAnimationFrame(animationFrameId);\n            if (container.contains(gl.canvas)) {\n                container.removeChild(gl.canvas);\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        particleCount,\n        particleSpread,\n        speed,\n        moveParticlesOnHover,\n        particleHoverFactor,\n        alphaParticles,\n        particleBaseSize,\n        sizeRandomness,\n        cameraDistance,\n        disableRotation,\n        pixelRatio\n    ]);\n\n    return <div ref={containerRef} className={`particles-container ${className}`} />;\n};\n\nexport default Particles;\n"],"names":[],"mappings":"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"}}]
}